<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Pandora Head Sensors: SPIFI Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pandora Head Sensors
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classSPIFI.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">SPIFI Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="SPIFI" -->
<p><code>#include &lt;<a class="el" href="SPIFI_8h_source.html">SPIFI.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for SPIFI:</div>
<div class="dyncontent">
<div class="center"><img src="classSPIFI__coll__graph.png" border="0" usemap="#SPIFI_coll__map" alt="Collaboration graph"/></div>
<map name="SPIFI_coll__map" id="SPIFI_coll__map">
<area shape="rect" id="node2" href="structSPIFI__RTNS.html" title="SPIFI_RTNS" alt="" coords="5,101,104,131"/><area shape="rect" id="node4" href="structSPIFIobj.html" title="SPIFIobj" alt="" coords="128,101,200,131"/><area shape="rect" id="node6" href="unionstat__t.html" title="stat_t" alt="" coords="96,5,149,35"/><area shape="rect" id="node8" href="structprotEnt.html" title="protEnt" alt="" coords="173,5,237,35"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#af119c09d9a6472e15a63bf6d1a71bb96">Constants</a> { <a class="el" href="classSPIFI.html#af119c09d9a6472e15a63bf6d1a71bb96aee66d6c2827dda3778fb14937ce7d3f5">SpifiMemBase</a> =  0x28000000
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#aa1cb2fbf1952f1afb15445ba9aa67881">Options</a> { <a class="el" href="classSPIFI.html#aa1cb2fbf1952f1afb15445ba9aa67881ae7ea2fb125e72b2f81fbe9bd4dcd348b">ForceErase</a> =  (0&lt;&lt;2), 
<a class="el" href="classSPIFI.html#aa1cb2fbf1952f1afb15445ba9aa67881a6ac03d82b8a86fd9a6a7f88419d627a0">EraseAsRequired</a> =  (1&lt;&lt;2), 
<a class="el" href="classSPIFI.html#aa1cb2fbf1952f1afb15445ba9aa67881a1da19de083b3b391da7193fc98937aac">CallerErase</a> =  (1&lt;&lt;3)
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SpifiError</a> { <br/>
&#160;&#160;<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da614c93ae380d2345cc75dacc124d6db3">Ok</a> =  0, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da2369d83330bd924a232b64b2b1afe3ab">Uninitialized</a> =  1, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da2f32071968abfb5e38c13157681b61a2">Verification</a> =  2, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2dafea72a427c7290e7f987bec6dc87d789">SameAddress</a> =  3, 
<br/>
&#160;&#160;<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da942cdfcbc484345b1ae6f79f10ff3c72">UnknownError</a> =  4, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2dacc4c3ad888382de7900d1cbc451025c1">InternalError</a> =  0x20002, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da19393a838d70aac36b23be6af71efc71">Timeout</a> =  0x20003, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2dad58d66b598dd29ebd3e3e5eab94e304a">OperandError</a> =  0x20004, 
<br/>
&#160;&#160;<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2dabdc4d13bbb38d6a6d7338b9dae9405ff">Status</a> =  0x20005, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da4fd84a42a2bfe384341d6de1cae3cbfe">ExtDeviceId</a> =  0x20006, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da3b5ac216d9c5d4ea1ee7fb732ab08c4d">DeviceId</a> =  0x20007, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da0f3c8977e4292bf7fda164b86ad38fec">DeviceType</a> =  0x20008, 
<br/>
&#160;&#160;<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da66be7da94f0fa495b96464ec7fd74f4b">Manufacturer</a> =  0x20009, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da441a72e47b403ea636b7c0b78e60d8d6">InvalidJDECId</a> =  0x2000A, 
<a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da23af0a880df801c06d68b211b63c1bf8">EraseConflict</a> =  0x2000B
<br/>
 }</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562">Device</a> { <a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562a5868e045afbff61f5733aee58908a343">Spansion_S25FL032</a>, 
<a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562a8983530b0246c2eff044df1b246e0d61">Winbond_W25Q64FV</a>, 
<a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562a39ec8f383de35ff1b8e9525ab5c93933">UnknownDevice</a>
 }</td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SpifiError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a3ccd32104db3e3dcfe1859626ffc3770">init</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562">Device</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a7d765ae5df666520abfee5de52bbddac">device</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a77d4df6a64d6f4674d4b79e7da092582">memorySize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a3dba53056d663853053ba6c7610c5fa1">eraseBlockSize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a9bf45aaadb7ab4e532a1529824555c40">getVerificationErrorAddr</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#aa4fffbda7c86246ff2e26ef10ee74f61">internalData</a> (<a class="el" href="structSPIFIobj.html">SPIFIobj</a> **initData, const <a class="el" href="structSPIFI__RTNS.html">SPIFI_RTNS</a> **romPtr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SpifiError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a93468afc095ba96280b8154018311a0f">program</a> (uint32_t dest, unsigned len, char *src, <a class="el" href="classSPIFI.html#aa1cb2fbf1952f1afb15445ba9aa67881">Options</a> options, bool verify=false, char *scratch=<a class="el" href="rt__TypeDef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SpifiError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a769ba7aca90cc30526a703cca8b85a2b">erase</a> (uint32_t dest, unsigned len, char *src, bool verify=false, char *scratch=<a class="el" href="rt__TypeDef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classSPIFI.html">SPIFI</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a2e1d6bf2c9bc8c38e422f5aca75efc66">instance</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a19b8ca36030c6b65135fef74f008868b">SPIFI</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#ace5e40cf0d4f3f4294144d8f827bcfac">SPIFI</a> (const <a class="el" href="classSPIFI.html">SPIFI</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSPIFI.html">SPIFI</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#aaf3a2c3c33239aa9b99708e9c5c628de">operator=</a> (const <a class="el" href="classSPIFI.html">SPIFI</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a91ad91eb151e86a1590c5d16a10ddd88">~SPIFI</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SpifiError</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a58b4c65196c48c5d22b0948a218954aa">translateError</a> (int err, bool verify=false)</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#aff453369befc40e83ad9b354b0e5d0ed">_verError</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#aab96da47d702f14614a3dec1310d01a4">_initialized</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562">Device</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a8fdfd90b7f6572ce6bf00334e4e3814c">_device</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#ab680ce9f6eea3c99d07199deedc734ca">_memorySize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#ada8bef363f367c884757fe30479d6307">_eraseBlockSize</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSPIFIobj.html">SPIFIobj</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a163da6d49b72eac20593b6189569db90">_romData</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structSPIFI__RTNS.html">SPIFI_RTNS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#a14d8b1e331118ff5385185959edb8335">_spifi</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSPIFI.html#ae0feded10f60f2e5bb5a17bf44a2d0d1">_addrConflictBuff</a> [256]</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classSPIFI.html">SPIFI</a> Example</p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &quot;<a class="code" href="mbed_8h.html">mbed.h</a>&quot;</span>
<span class="preprocessor"> #include &quot;<a class="code" href="SPIFI_8h.html">SPIFI.h</a>&quot;</span>

 <span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">void</span>) {
    <a class="code" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SPIFI::SpifiError</a> err;

    err = <a class="code" href="classSPIFI.html#a2e1d6bf2c9bc8c38e422f5aca75efc66">SPIFI::instance</a>().<a class="code" href="classSPIFI.html#a3ccd32104db3e3dcfe1859626ffc3770">init</a>();
    <span class="keywordflow">if</span> (err != <a class="code" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da614c93ae380d2345cc75dacc124d6db3">SPIFI::Ok</a>) {
        printf(<span class="stringliteral">&quot;Failed to initialize SPIFI, error %d\n&quot;</span>, err);
    }
    
    <span class="comment">// Write &quot;Hello World!&quot; into the first bytes of the SPIFI</span>
    <span class="keywordtype">char</span> buff[20] = <span class="stringliteral">&quot;Hello World!&quot;</span>;
    err = <a class="code" href="classSPIFI.html#a2e1d6bf2c9bc8c38e422f5aca75efc66">SPIFI::instance</a>().<a class="code" href="classSPIFI.html#a93468afc095ba96280b8154018311a0f">program</a>(0, strlen(buff)+1, buff, <a class="code" href="classSPIFI.html#aa1cb2fbf1952f1afb15445ba9aa67881a6ac03d82b8a86fd9a6a7f88419d627a0">SPIFI::EraseAsRequired</a>);
    <span class="keywordflow">if</span> (err != <a class="code" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2da614c93ae380d2345cc75dacc124d6db3">SPIFI::Ok</a>) {
        printf(<span class="stringliteral">&quot;Failed to write to SPIFI, error %d\n&quot;</span>, err);
    }

    <span class="comment">// Now verify that it can be read</span>
    <span class="keywordflow">if</span> (memcmp((<span class="keywordtype">char</span>*)<a class="code" href="classSPIFI.html#af119c09d9a6472e15a63bf6d1a71bb96aee66d6c2827dda3778fb14937ce7d3f5">SPIFI::SpifiMemBase</a>, buff, strlen(buff)+1) == 0) {
        printf(<span class="stringliteral">&quot;Readback from memory OK: &#39;%s&#39;\n&quot;</span>, SPIFI::SpifiMemBase);
    } <span class="keywordflow">else</span> {
        printf(<span class="stringliteral">&quot;Spifi does not contain the correct data!\n&quot;</span>);
    }
 }
</pre></div> </div><hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="af119c09d9a6472e15a63bf6d1a71bb96"></a><!-- doxytag: member="SPIFI::Constants" ref="af119c09d9a6472e15a63bf6d1a71bb96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classSPIFI.html#af119c09d9a6472e15a63bf6d1a71bb96">SPIFI::Constants</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="af119c09d9a6472e15a63bf6d1a71bb96aee66d6c2827dda3778fb14937ce7d3f5"></a><!-- doxytag: member="SpifiMemBase" ref="af119c09d9a6472e15a63bf6d1a71bb96aee66d6c2827dda3778fb14937ce7d3f5" args="" -->SpifiMemBase</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="a6d5426f3fd49017c278b52001945c562"></a><!-- doxytag: member="SPIFI::Device" ref="a6d5426f3fd49017c278b52001945c562" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562">SPIFI::Device</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a6d5426f3fd49017c278b52001945c562a5868e045afbff61f5733aee58908a343"></a><!-- doxytag: member="Spansion_S25FL032" ref="a6d5426f3fd49017c278b52001945c562a5868e045afbff61f5733aee58908a343" args="" -->Spansion_S25FL032</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6d5426f3fd49017c278b52001945c562a8983530b0246c2eff044df1b246e0d61"></a><!-- doxytag: member="Winbond_W25Q64FV" ref="a6d5426f3fd49017c278b52001945c562a8983530b0246c2eff044df1b246e0d61" args="" -->Winbond_W25Q64FV</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a6d5426f3fd49017c278b52001945c562a39ec8f383de35ff1b8e9525ab5c93933"></a><!-- doxytag: member="UnknownDevice" ref="a6d5426f3fd49017c278b52001945c562a39ec8f383de35ff1b8e9525ab5c93933" args="" -->UnknownDevice</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="aa1cb2fbf1952f1afb15445ba9aa67881"></a><!-- doxytag: member="SPIFI::Options" ref="aa1cb2fbf1952f1afb15445ba9aa67881" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classSPIFI.html#aa1cb2fbf1952f1afb15445ba9aa67881">SPIFI::Options</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="aa1cb2fbf1952f1afb15445ba9aa67881ae7ea2fb125e72b2f81fbe9bd4dcd348b"></a><!-- doxytag: member="ForceErase" ref="aa1cb2fbf1952f1afb15445ba9aa67881ae7ea2fb125e72b2f81fbe9bd4dcd348b" args="" -->ForceErase</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa1cb2fbf1952f1afb15445ba9aa67881a6ac03d82b8a86fd9a6a7f88419d627a0"></a><!-- doxytag: member="EraseAsRequired" ref="aa1cb2fbf1952f1afb15445ba9aa67881a6ac03d82b8a86fd9a6a7f88419d627a0" args="" -->EraseAsRequired</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="aa1cb2fbf1952f1afb15445ba9aa67881a1da19de083b3b391da7193fc98937aac"></a><!-- doxytag: member="CallerErase" ref="aa1cb2fbf1952f1afb15445ba9aa67881a1da19de083b3b391da7193fc98937aac" args="" -->CallerErase</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2d"></a><!-- doxytag: member="SPIFI::SpifiError" ref="ac1d3ba657c813379e6f84fbdb5983d2d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SPIFI::SpifiError</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da614c93ae380d2345cc75dacc124d6db3"></a><!-- doxytag: member="Ok" ref="ac1d3ba657c813379e6f84fbdb5983d2da614c93ae380d2345cc75dacc124d6db3" args="" -->Ok</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da2369d83330bd924a232b64b2b1afe3ab"></a><!-- doxytag: member="Uninitialized" ref="ac1d3ba657c813379e6f84fbdb5983d2da2369d83330bd924a232b64b2b1afe3ab" args="" -->Uninitialized</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da2f32071968abfb5e38c13157681b61a2"></a><!-- doxytag: member="Verification" ref="ac1d3ba657c813379e6f84fbdb5983d2da2f32071968abfb5e38c13157681b61a2" args="" -->Verification</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2dafea72a427c7290e7f987bec6dc87d789"></a><!-- doxytag: member="SameAddress" ref="ac1d3ba657c813379e6f84fbdb5983d2dafea72a427c7290e7f987bec6dc87d789" args="" -->SameAddress</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da942cdfcbc484345b1ae6f79f10ff3c72"></a><!-- doxytag: member="UnknownError" ref="ac1d3ba657c813379e6f84fbdb5983d2da942cdfcbc484345b1ae6f79f10ff3c72" args="" -->UnknownError</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2dacc4c3ad888382de7900d1cbc451025c1"></a><!-- doxytag: member="InternalError" ref="ac1d3ba657c813379e6f84fbdb5983d2dacc4c3ad888382de7900d1cbc451025c1" args="" -->InternalError</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da19393a838d70aac36b23be6af71efc71"></a><!-- doxytag: member="Timeout" ref="ac1d3ba657c813379e6f84fbdb5983d2da19393a838d70aac36b23be6af71efc71" args="" -->Timeout</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2dad58d66b598dd29ebd3e3e5eab94e304a"></a><!-- doxytag: member="OperandError" ref="ac1d3ba657c813379e6f84fbdb5983d2dad58d66b598dd29ebd3e3e5eab94e304a" args="" -->OperandError</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2dabdc4d13bbb38d6a6d7338b9dae9405ff"></a><!-- doxytag: member="Status" ref="ac1d3ba657c813379e6f84fbdb5983d2dabdc4d13bbb38d6a6d7338b9dae9405ff" args="" -->Status</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da4fd84a42a2bfe384341d6de1cae3cbfe"></a><!-- doxytag: member="ExtDeviceId" ref="ac1d3ba657c813379e6f84fbdb5983d2da4fd84a42a2bfe384341d6de1cae3cbfe" args="" -->ExtDeviceId</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da3b5ac216d9c5d4ea1ee7fb732ab08c4d"></a><!-- doxytag: member="DeviceId" ref="ac1d3ba657c813379e6f84fbdb5983d2da3b5ac216d9c5d4ea1ee7fb732ab08c4d" args="" -->DeviceId</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da0f3c8977e4292bf7fda164b86ad38fec"></a><!-- doxytag: member="DeviceType" ref="ac1d3ba657c813379e6f84fbdb5983d2da0f3c8977e4292bf7fda164b86ad38fec" args="" -->DeviceType</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da66be7da94f0fa495b96464ec7fd74f4b"></a><!-- doxytag: member="Manufacturer" ref="ac1d3ba657c813379e6f84fbdb5983d2da66be7da94f0fa495b96464ec7fd74f4b" args="" -->Manufacturer</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da441a72e47b403ea636b7c0b78e60d8d6"></a><!-- doxytag: member="InvalidJDECId" ref="ac1d3ba657c813379e6f84fbdb5983d2da441a72e47b403ea636b7c0b78e60d8d6" args="" -->InvalidJDECId</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac1d3ba657c813379e6f84fbdb5983d2da23af0a880df801c06d68b211b63c1bf8"></a><!-- doxytag: member="EraseConflict" ref="ac1d3ba657c813379e6f84fbdb5983d2da23af0a880df801c06d68b211b63c1bf8" args="" -->EraseConflict</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a19b8ca36030c6b65135fef74f008868b"></a><!-- doxytag: member="SPIFI::SPIFI" ref="a19b8ca36030c6b65135fef74f008868b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#a19b8ca36030c6b65135fef74f008868b">SPIFI::SPIFI</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [explicit, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ace5e40cf0d4f3f4294144d8f827bcfac"></a><!-- doxytag: member="SPIFI::SPIFI" ref="ace5e40cf0d4f3f4294144d8f827bcfac" args="(const SPIFI &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#a19b8ca36030c6b65135fef74f008868b">SPIFI::SPIFI</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSPIFI.html">SPIFI</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a91ad91eb151e86a1590c5d16a10ddd88"></a><!-- doxytag: member="SPIFI::~SPIFI" ref="a91ad91eb151e86a1590c5d16a10ddd88" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#a91ad91eb151e86a1590c5d16a10ddd88">SPIFI::~SPIFI</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a7d765ae5df666520abfee5de52bbddac"></a><!-- doxytag: member="SPIFI::device" ref="a7d765ae5df666520abfee5de52bbddac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562">Device</a> <a class="el" href="classSPIFI.html#a7d765ae5df666520abfee5de52bbddac">SPIFI::device</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the detected external serial flash</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The detected device or UnknownDevice </dd></dl>

</div>
</div>
<a class="anchor" id="a769ba7aca90cc30526a703cca8b85a2b"></a><!-- doxytag: member="SPIFI::erase" ref="a769ba7aca90cc30526a703cca8b85a2b" args="(uint32_t dest, unsigned len, char *src, bool verify=false, char *scratch=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SPIFI::SpifiError</a> <a class="el" href="classSPIFI.html#a769ba7aca90cc30526a703cca8b85a2b">SPIFI::erase</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verify</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>scratch</em> = <code><a class="el" href="rt__TypeDef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Erases the content of the memory at the specified address</p>
<p>Scratch should be NULL or the address of an area of RAM that the <a class="el" href="classSPIFI.html">SPIFI</a> driver can use to save data during erase operations. If provided, the scratch area should be as large as the smallest erase size that is available throughout the serial flash device. If scratch is NULL (zero) and an erase is necessary, any bytes in the first erase block before dest are left in erased state (all ones), as are any bytes in the last erase block after dest + len</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Address to start erasing at, highest byte must be 0x00 or 0x28 as in 0x28000000 </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to erase </td></tr>
    <tr><td class="paramname">verify</td><td>Should the erased area be verified to make sure it is all 0xff </td></tr>
    <tr><td class="paramname">scratch</td><td>Used to preserve content of flash outside of erased area. Size of buffer must be at least the size of one erase block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Ok on success An error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a3dba53056d663853053ba6c7610c5fa1"></a><!-- doxytag: member="SPIFI::eraseBlockSize" ref="a3dba53056d663853053ba6c7610c5fa1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classSPIFI.html#a3dba53056d663853053ba6c7610c5fa1">SPIFI::eraseBlockSize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the size of an erase block (in bytes) on the external serial flash</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The erase block size in bytes </dd></dl>

</div>
</div>
<a class="anchor" id="a9bf45aaadb7ab4e532a1529824555c40"></a><!-- doxytag: member="SPIFI::getVerificationErrorAddr" ref="a9bf45aaadb7ab4e532a1529824555c40" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classSPIFI.html#a9bf45aaadb7ab4e532a1529824555c40">SPIFI::getVerificationErrorAddr</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the address where the verifcation failed. Use only after a Verification error code has been retured from one of the other functions</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The address to where the program or erase operation failed </dd></dl>

</div>
</div>
<a class="anchor" id="a3ccd32104db3e3dcfe1859626ffc3770"></a><!-- doxytag: member="SPIFI::init" ref="a3ccd32104db3e3dcfe1859626ffc3770" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SPIFI::SpifiError</a> <a class="el" href="classSPIFI.html#a3ccd32104db3e3dcfe1859626ffc3770">SPIFI::init</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the <a class="el" href="classSPIFI.html">SPIFI</a> <a class="el" href="structROM.html">ROM</a> driver making the content of the external serial flash available</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>Ok on success An error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a2e1d6bf2c9bc8c38e422f5aca75efc66"></a><!-- doxytag: member="SPIFI::instance" ref="a2e1d6bf2c9bc8c38e422f5aca75efc66" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classSPIFI.html">SPIFI</a>&amp; <a class="el" href="classSPIFI.html#a2e1d6bf2c9bc8c38e422f5aca75efc66">SPIFI::instance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa4fffbda7c86246ff2e26ef10ee74f61"></a><!-- doxytag: member="SPIFI::internalData" ref="aa4fffbda7c86246ff2e26ef10ee74f61" args="(SPIFIobj **initData, const SPIFI_RTNS **romPtr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSPIFI.html#aa4fffbda7c86246ff2e26ef10ee74f61">SPIFI::internalData</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSPIFIobj.html">SPIFIobj</a> **&#160;</td>
          <td class="paramname"><em>initData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSPIFI__RTNS.html">SPIFI_RTNS</a> **&#160;</td>
          <td class="paramname"><em>romPtr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Used by the <a class="el" href="classQSPIFileSystem.html">QSPIFileSystem</a> class to get access to all spifi internal data.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">initData</td><td>The parameter returned by spifi_init </td></tr>
    <tr><td class="paramname">romPtr</td><td>The location of the <a class="el" href="classSPIFI.html">SPIFI</a> <a class="el" href="structROM.html">ROM</a> driver in memory </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77d4df6a64d6f4674d4b79e7da092582"></a><!-- doxytag: member="SPIFI::memorySize" ref="a77d4df6a64d6f4674d4b79e7da092582" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classSPIFI.html#a77d4df6a64d6f4674d4b79e7da092582">SPIFI::memorySize</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the size (in bytes) of the external serial flash</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The size in bytes </dd></dl>

</div>
</div>
<a class="anchor" id="aaf3a2c3c33239aa9b99708e9c5c628de"></a><!-- doxytag: member="SPIFI::operator=" ref="aaf3a2c3c33239aa9b99708e9c5c628de" args="(const SPIFI &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html">SPIFI</a>&amp; SPIFI::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classSPIFI.html">SPIFI</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a93468afc095ba96280b8154018311a0f"></a><!-- doxytag: member="SPIFI::program" ref="a93468afc095ba96280b8154018311a0f" args="(uint32_t dest, unsigned len, char *src, Options options, bool verify=false, char *scratch=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SPIFI::SpifiError</a> <a class="el" href="classSPIFI.html#a93468afc095ba96280b8154018311a0f">SPIFI::program</a> </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classSPIFI.html#aa1cb2fbf1952f1afb15445ba9aa67881">Options</a>&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verify</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>scratch</em> = <code><a class="el" href="rt__TypeDef_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copies len data from src to dest. This function will split len &gt; 256 into writes of 256 bytes each.</p>
<p>Programming means that a bit can either be left at 0, or programmed from 1 to 0. Changing bits from 0 to 1 requires an erase operation. While bits can be individually programmed from 1 to 0, erasing bits from 0 to 1 must be done in larger chunks (manufacturer dependant but typically 4Kbyte to 64KByte at a time).</p>
<p>Specify how/when erasing is done with the options parameter:</p>
<ul>
<li>ForceErase causes len bytes to be erased starting at dest. If a scratch buffer (must be the size of an erase block) is provided then only the len bytes will be erased. If no scratch buffer is provided then the erase block surrounding dest will be erased.</li>
</ul>
<ul>
<li>EraseAsRequired tests if the destination can be written to without erasing. If it can then no erasing is done. If it can't then behaviour is the same as if ForceErase was specified.</li>
</ul>
<ul>
<li>CallerErase tests if the destination can be written to without erasing. If it can then a data is written. If it can't then an error code is returned and nothing is written.</li>
</ul>
<p>Scratch should be NULL or the address of an area of RAM that the <a class="el" href="classSPIFI.html">SPIFI</a> driver can use to save data during erase operations. If provided, the scratch area should be as large as the smallest erase size that is available throughout the serial flash device. If scratch is NULL (zero) and an erase is necessary, any bytes in the first erase block before dest are left in erased state (all ones), as are any bytes in the last erase block after dest + len</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>Address to write to, highest byte must be 0x00 or 0x28 as in 0x28000000 </td></tr>
    <tr><td class="paramname">len</td><td>Number of bytes to write </td></tr>
    <tr><td class="paramname">src</td><td>Data to write </td></tr>
    <tr><td class="paramname">options</td><td>How to handle content of destination </td></tr>
    <tr><td class="paramname">verify</td><td>Should all writes be verified or not </td></tr>
    <tr><td class="paramname">scratch</td><td>Used with ForceErase and EraseAsRequired option to preserve content of flash outside of written area. Size of buffer must be at least the size of one erase block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Ok on success An error code on failure </dd></dl>

</div>
</div>
<a class="anchor" id="a58b4c65196c48c5d22b0948a218954aa"></a><!-- doxytag: member="SPIFI::translateError" ref="a58b4c65196c48c5d22b0948a218954aa" args="(int err, bool verify=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#ac1d3ba657c813379e6f84fbdb5983d2d">SPIFI::SpifiError</a> <a class="el" href="classSPIFI.html#a58b4c65196c48c5d22b0948a218954aa">SPIFI::translateError</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verify</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Field Documentation</h2>
<a class="anchor" id="ae0feded10f60f2e5bb5a17bf44a2d0d1"></a><!-- doxytag: member="SPIFI::_addrConflictBuff" ref="ae0feded10f60f2e5bb5a17bf44a2d0d1" args="[256]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="classSPIFI.html#ae0feded10f60f2e5bb5a17bf44a2d0d1">SPIFI::_addrConflictBuff</a>[256]<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8fdfd90b7f6572ce6bf00334e4e3814c"></a><!-- doxytag: member="SPIFI::_device" ref="a8fdfd90b7f6572ce6bf00334e4e3814c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSPIFI.html#a6d5426f3fd49017c278b52001945c562">Device</a> <a class="el" href="classSPIFI.html#a8fdfd90b7f6572ce6bf00334e4e3814c">SPIFI::_device</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ada8bef363f367c884757fe30479d6307"></a><!-- doxytag: member="SPIFI::_eraseBlockSize" ref="ada8bef363f367c884757fe30479d6307" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classSPIFI.html#ada8bef363f367c884757fe30479d6307">SPIFI::_eraseBlockSize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aab96da47d702f14614a3dec1310d01a4"></a><!-- doxytag: member="SPIFI::_initialized" ref="aab96da47d702f14614a3dec1310d01a4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSPIFI.html#aab96da47d702f14614a3dec1310d01a4">SPIFI::_initialized</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ab680ce9f6eea3c99d07199deedc734ca"></a><!-- doxytag: member="SPIFI::_memorySize" ref="ab680ce9f6eea3c99d07199deedc734ca" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classSPIFI.html#ab680ce9f6eea3c99d07199deedc734ca">SPIFI::_memorySize</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a163da6d49b72eac20593b6189569db90"></a><!-- doxytag: member="SPIFI::_romData" ref="a163da6d49b72eac20593b6189569db90" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSPIFIobj.html">SPIFIobj</a>* <a class="el" href="classSPIFI.html#a163da6d49b72eac20593b6189569db90">SPIFI::_romData</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a14d8b1e331118ff5385185959edb8335"></a><!-- doxytag: member="SPIFI::_spifi" ref="a14d8b1e331118ff5385185959edb8335" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structSPIFI__RTNS.html">SPIFI_RTNS</a>* <a class="el" href="classSPIFI.html#a14d8b1e331118ff5385185959edb8335">SPIFI::_spifi</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aff453369befc40e83ad9b354b0e5d0ed"></a><!-- doxytag: member="SPIFI::_verError" ref="aff453369befc40e83ad9b354b0e5d0ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="classSPIFI.html#aff453369befc40e83ad9b354b0e5d0ed">SPIFI::_verError</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>EALib/<a class="el" href="SPIFI_8h_source.html">SPIFI.h</a></li>
<li>EALib/<a class="el" href="SPIFI_8cpp.html">SPIFI.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="classSPIFI.html">SPIFI</a>      </li>

    <li class="footer">Generated on Mon May 5 2014 23:16:57 for Pandora Head Sensors by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
