<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Pandora Head Sensors: EALib/MCIFileSystem.h Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Pandora Head Sensors
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('MCIFileSystem_8h.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">EALib/MCIFileSystem.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="MCIFileSystem_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *  Copyright 2013 Embedded Artists AB</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00005"></a>00005 <span class="comment"> *  you may not use this file except in compliance with the License.</span>
<a name="l00006"></a>00006 <span class="comment"> *  You may obtain a copy of the License at</span>
<a name="l00007"></a>00007 <span class="comment"> *</span>
<a name="l00008"></a>00008 <span class="comment"> *    http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> *  Unless required by applicable law or agreed to in writing, software</span>
<a name="l00011"></a>00011 <span class="comment"> *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00012"></a>00012 <span class="comment"> *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00013"></a>00013 <span class="comment"> *  See the License for the specific language governing permissions and</span>
<a name="l00014"></a>00014 <span class="comment"> *  limitations under the License.</span>
<a name="l00015"></a>00015 <span class="comment"> */</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#ifndef MCIFILESYSTEM_H</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span><span class="preprocessor">#define MCIFILESYSTEM_H</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &quot;<a class="code" href="mbed_8h.html">mbed.h</a>&quot;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &quot;<a class="code" href="FATFileSystem_8h.html">FATFileSystem.h</a>&quot;</span>
<a name="l00022"></a>00022 
<a name="l00050"></a><a class="code" href="classMCIFileSystem.html">00050</a> <span class="keyword">class </span><a class="code" href="classMCIFileSystem.html">MCIFileSystem</a> : <span class="keyword">public</span> <a class="code" href="classFATFileSystem.html">FATFileSystem</a> {
<a name="l00051"></a>00051 <span class="keyword">public</span>:
<a name="l00052"></a>00052 
<a name="l00058"></a>00058     <a class="code" href="classMCIFileSystem.html#ac5f0456ddfd4aef184842f9db2ee40da">MCIFileSystem</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* name, <a class="code" href="PinNames_8h.html#a5ceb873075d76667eb54dc6a7d2734d1">PinName</a> cd = <a class="code" href="PinNames_8h.html#a5ceb873075d76667eb54dc6a7d2734d1a224b2609e04edf70e631db1b0fcb0899">p38</a>);
<a name="l00059"></a>00059 
<a name="l00060"></a>00060     <span class="keyword">virtual</span> <a class="code" href="classMCIFileSystem.html#ac2a93ba13af833ee47ced0f7247f5ccc">~MCIFileSystem</a>();
<a name="l00061"></a>00061 
<a name="l00062"></a>00062     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classMCIFileSystem.html#a485a6aceca93bca437e994384df90f5a">disk_initialize</a>();
<a name="l00063"></a>00063     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classMCIFileSystem.html#af0349506f81aebd3d0d9352022f2ebaa">disk_status</a>();
<a name="l00064"></a>00064     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classMCIFileSystem.html#af4f759ea4a08435882dd0e24ea343e26">disk_read</a>(uint8_t * buffer, uint64_t block_number);
<a name="l00065"></a>00065     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classMCIFileSystem.html#a654a332ebc6d4b99d7d14243d273fe5d">disk_write</a>(<span class="keyword">const</span> uint8_t * buffer, uint64_t block_number);
<a name="l00066"></a>00066     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classMCIFileSystem.html#afb2210fdce3cf1603b885ff7803c1ffe">disk_sync</a>();
<a name="l00067"></a>00067     <span class="keyword">virtual</span> uint64_t <a class="code" href="classMCIFileSystem.html#a679fa41cb9f07f0d4bba972d6639347a">disk_sectors</a>();
<a name="l00068"></a>00068 
<a name="l00069"></a>00069     <span class="keywordtype">void</span> <a class="code" href="classMCIFileSystem.html#a1f323699873bc19cbeecfa2be7719569">mci_MCIIRQHandler</a>();
<a name="l00070"></a>00070     <span class="keywordtype">void</span> <a class="code" href="classMCIFileSystem.html#a6cdc933e8cf809e7bb44f4c0c85d03c7">mci_DMAIRQHandler</a>();
<a name="l00071"></a>00071 
<a name="l00078"></a>00078     <span class="keywordtype">bool</span> <a class="code" href="classMCIFileSystem.html#a9656c88f339e552a4b62835d4349fdb9">cardInserted</a>() <span class="keyword">const</span>;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="keyword">private</span>:
<a name="l00081"></a>00081 
<a name="l00082"></a><a class="code" href="classMCIFileSystem.html#a89bc8d88a13b85a5304f6dcfa1868791">00082</a>     <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00083"></a><a class="code" href="classMCIFileSystem.html#a89bc8d88a13b85a5304f6dcfa1868791a81f34e5ae4f4f771078a4cdd2bbb04fc">00083</a>       <a class="code" href="classMCIFileSystem.html#a89bc8d88a13b85a5304f6dcfa1868791a81f34e5ae4f4f771078a4cdd2bbb04fc">CardStatusNumBytes</a> = 4,
<a name="l00084"></a>00084     } <a class="code" href="classMCIFileSystem.html#a89bc8d88a13b85a5304f6dcfa1868791">Constants</a>;
<a name="l00085"></a>00085 
<a name="l00086"></a><a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5c">00086</a>     <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00087"></a><a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5cab9bbebd91b991625c9f799d8df6cca97">00087</a>       <a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5cab9bbebd91b991625c9f799d8df6cca97">PowerOff</a> = 0,
<a name="l00088"></a><a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5ca0aab4a50cba21fb2c9998ef2d1703470">00088</a>       <a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5ca0aab4a50cba21fb2c9998ef2d1703470">PowerUp</a> = 2,
<a name="l00089"></a><a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5caec50297d63876b89d1453a1d1b415327">00089</a>       <a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5caec50297d63876b89d1453a1d1b415327">PowerOn</a> = 3,
<a name="l00090"></a>00090     } <a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5c">power_ctrl_t</a>;
<a name="l00091"></a>00091 
<a name="l00092"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133">00092</a>     <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00093"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133ab69c0ddef6b03666ff58f0d65b1c5d4d">00093</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133ab69c0ddef6b03666ff58f0d65b1c5d4d">SDMMC_IDLE_ST</a> = 0, 
<a name="l00094"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133aaa355b3b05b2846fe62c3994479c8090">00094</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133aaa355b3b05b2846fe62c3994479c8090">SDMMC_READY_ST</a>,    
<a name="l00095"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a6f551acfe835851098dedcb4571cf893">00095</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a6f551acfe835851098dedcb4571cf893">SDMMC_IDENT_ST</a>,    
<a name="l00096"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a0b27e3c9c160c1ae9ca2d9bf7be09d2f">00096</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a0b27e3c9c160c1ae9ca2d9bf7be09d2f">SDMMC_STBY_ST</a>,     
<a name="l00097"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a13fff593828528a1fc1b2e37aad3c69f">00097</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a13fff593828528a1fc1b2e37aad3c69f">SDMMC_TRAN_ST</a>,     
<a name="l00098"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133af873f82c56f28ea0f5aa57e24d3e6c01">00098</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133af873f82c56f28ea0f5aa57e24d3e6c01">SDMMC_DATA_ST</a>,     
<a name="l00099"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a76e8d96e24938fc9f865d31c0d87e298">00099</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a76e8d96e24938fc9f865d31c0d87e298">SDMMC_RCV_ST</a>,      
<a name="l00100"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a8fbd0c696f1dda9c80df7071ec78bc37">00100</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133a8fbd0c696f1dda9c80df7071ec78bc37">SDMMC_PRG_ST</a>,      
<a name="l00101"></a><a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133aa04342cf7556d4d7f45a0d806e3ce23b">00101</a>       <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133aa04342cf7556d4d7f45a0d806e3ce23b">SDMMC_DIS_ST</a>       
<a name="l00102"></a>00102     } <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133">CardState</a>;
<a name="l00103"></a>00103 
<a name="l00104"></a>00104 
<a name="l00105"></a><a class="code" href="structMCIFileSystem_1_1response__t.html">00105</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00106"></a><a class="code" href="structMCIFileSystem_1_1response__t.html#a6fd3747e1c0999d263985e87ee82de63">00106</a>       uint8_t <a class="code" href="structMCIFileSystem_1_1response__t.html#a6fd3747e1c0999d263985e87ee82de63">CmdIndex</a>;
<a name="l00107"></a><a class="code" href="structMCIFileSystem_1_1response__t.html#aa6f0163252eb4a52d3249c9d7ea0fe6d">00107</a>       uint32_t Data[<a class="code" href="classMCIFileSystem.html#a89bc8d88a13b85a5304f6dcfa1868791a81f34e5ae4f4f771078a4cdd2bbb04fc">CardStatusNumBytes</a>];
<a name="l00108"></a>00108     } <a class="code" href="structMCIFileSystem_1_1response__t.html">response_t</a>;
<a name="l00109"></a>00109 
<a name="l00113"></a><a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1">00113</a>     <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00114"></a><a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1a86e9f521c593d02f59a8cfff027aa677">00114</a>       <a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1a86e9f521c593d02f59a8cfff027aa677">SDC_CLOCK_ENABLE</a>         =  8, 
<a name="l00115"></a><a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1ab3e823073fa4d86790c6ff7bbb8e6f21">00115</a>       <a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1ab3e823073fa4d86790c6ff7bbb8e6f21">SDC_CLOCK_POWER_SAVE</a>     =  9, 
<a name="l00116"></a><a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1a82ac6105715e495d3b43ad54c38f156b">00116</a>       <a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1a82ac6105715e495d3b43ad54c38f156b">SDC_CLOCK_DIVIDER_BYPASS</a> = 10, 
<a name="l00117"></a><a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1ae57938546a748d84408b1bea2719700d">00117</a>       <a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1ae57938546a748d84408b1bea2719700d">SDC_CLOCK_WIDEBUS_MODE</a>   = 11, 
<a name="l00118"></a>00118     } <a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1" title="SDC Clock Control Options.">ClockControl</a>;
<a name="l00119"></a>00119 
<a name="l00123"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html">00123</a>     <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00124"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#a6723ae16cbed7e24d9e21fc2136b0c10">00124</a>       uint32_t response[4];        
<a name="l00125"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#abf67949da2075ec2a653ddd8e4bb7fef">00125</a>       uint32_t cid[4];             
<a name="l00126"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#a916e8b8c502cbe02b0a54b6a83f3641e">00126</a>       uint32_t csd[4];             
<a name="l00127"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#a9b55d3086ed92cfa687ac7023ca155a2">00127</a>       uint32_t ext_csd[512 / 4];   
<a name="l00128"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#acb6c846d4acdedfd5b7766d2d86bd397">00128</a>       uint32_t <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#acb6c846d4acdedfd5b7766d2d86bd397">card_type</a>;          
<a name="l00129"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#ad77e300491627bca022b6ef80479feeb">00129</a>       uint16_t <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#ad77e300491627bca022b6ef80479feeb">rca</a>;                
<a name="l00130"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#ab717cbc83aef4ec288a3aed2a9ae28c7">00130</a>       uint32_t <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#ab717cbc83aef4ec288a3aed2a9ae28c7">speed</a>;              
<a name="l00131"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#a1e17087bbed95171bdeb5ce4f6c4ae3d">00131</a>       uint32_t <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#a1e17087bbed95171bdeb5ce4f6c4ae3d">block_len</a>;          
<a name="l00132"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#abbf9557dee0abb786fb05f9f4def75cd">00132</a>       uint32_t <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#abbf9557dee0abb786fb05f9f4def75cd">device_size</a>;        
<a name="l00133"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#acab692ec4be92157fcdd17d144a2b6fa">00133</a>       uint32_t <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#acab692ec4be92157fcdd17d144a2b6fa">blocknr</a>;            
<a name="l00134"></a><a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#a316353063317efc2883a43f49d944447">00134</a>       uint32_t <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html#a316353063317efc2883a43f49d944447">clk_rate</a>;           
<a name="l00135"></a>00135     } <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html" title="SD/MMC Card specific setup data structure.">SDMMC_CARD_T</a>;
<a name="l00136"></a>00136 
<a name="l00137"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">00137</a>     <span class="keyword">typedef</span> <span class="keyword">enum</span> {
<a name="l00138"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da7397f20ad3f8a6b185d37a1e06ab39f5">00138</a>       <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da7397f20ad3f8a6b185d37a1e06ab39f5">SDC_RET_OK</a>             =  0,
<a name="l00139"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4dab8e0961170a7627a95bd886792d45c04">00139</a>       <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4dab8e0961170a7627a95bd886792d45c04">SDC_RET_CMD_FAILED</a>     = -1,
<a name="l00140"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da7acf8958baa9c348f3affe40601a13bf">00140</a>       <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da7acf8958baa9c348f3affe40601a13bf">SDC_RET_BAD_PARAMETERS</a> = -2,
<a name="l00141"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da7c52514bcf294b9ea5c814a3fc10107a">00141</a>       <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da7c52514bcf294b9ea5c814a3fc10107a">SDC_RET_BUS_NOT_IDLE</a>   = -3,
<a name="l00142"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4dab76cd2a09229b07371d8aa3785e3ed5f">00142</a>       <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4dab76cd2a09229b07371d8aa3785e3ed5f">SDC_RET_TIMEOUT</a>        = -4,
<a name="l00143"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4dae653cf5b49006680c9e30428d6828380">00143</a>       <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4dae653cf5b49006680c9e30428d6828380">SDC_RET_ERR_STATE</a>      = -5,
<a name="l00144"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da5cb4baff204cdb30b35d739d1b8bfc2e">00144</a>       <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da5cb4baff204cdb30b35d739d1b8bfc2e">SDC_RET_NOT_READY</a>      = -6,
<a name="l00145"></a><a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da233e1ffa73aa57b75c8a94c5a614a54e">00145</a>       <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4da233e1ffa73aa57b75c8a94c5a614a54e">SDC_RET_FAILED</a>         = -7,
<a name="l00146"></a>00146     } <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>;
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     <span class="keywordtype">void</span> <a class="code" href="classMCIFileSystem.html#a5655a60cd6277a7f9e66e40a07d3d279">initMCI</a>();
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     int32_t     <a class="code" href="classMCIFileSystem.html#ab6484d79403caeac0805647cbff0d728">mci_Acquire</a>();
<a name="l00151"></a>00151     uint32_t    <a class="code" href="classMCIFileSystem.html#af26a95963b83907d809a8ed3cde651a5">mci_GetCardStatus</a>() <span class="keyword">const</span>;
<a name="l00152"></a>00152     <a class="code" href="classMCIFileSystem.html#abd4affae83667580a6fe61a7cc8ff133">CardState</a>   <a class="code" href="classMCIFileSystem.html#a5819bbf3e5f4a711416432c3d5580e4c">mci_GetCardState</a>() <span class="keyword">const</span>;
<a name="l00153"></a>00153     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a747840b0af3cbd1cd3b4b19f1b064797">mci_ReadBlocks</a>(<span class="keywordtype">void</span> *buffer, int32_t startBlock, int32_t blockNum);
<a name="l00154"></a>00154     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#ad8b684e88aaafa8a28d9780ded35693c">mci_WriteBlocks</a>(<span class="keywordtype">void</span> *buffer, int32_t startBlock, int32_t blockNum);
<a name="l00155"></a>00155     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a383555edc2472a2771fc78062d131326">mci_SetClock</a>(uint32_t freq) <span class="keyword">const</span>;
<a name="l00156"></a>00156     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a90c2b3ae91a02867ebda7c0186a50556">mci_ClockControl</a>(<a class="code" href="classMCIFileSystem.html#a40f31c12fca37c24f354aa0cc12b08f1" title="SDC Clock Control Options.">ClockControl</a> ctrlType, <span class="keywordtype">bool</span> enable) <span class="keyword">const</span>;
<a name="l00157"></a>00157     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a8c2e817bd3fc439864fdc1007821f2ba">mci_PowerControl</a>(<a class="code" href="classMCIFileSystem.html#aef8f4c7e90f0457231f564507ebeca5c">power_ctrl_t</a> powerMode, uint32_t flag) <span class="keyword">const</span>;
<a name="l00158"></a>00158     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#ab3121485b468eb37c981b222d2d0518d">mci_ExecuteCmd</a>(uint32_t Command, uint32_t Arg, response_t* pResp) <span class="keyword">const</span>;
<a name="l00159"></a>00159     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a4df21f6cdb09731294778c6516b88c86">mci_SendIfCond</a>() <span class="keyword">const</span>;
<a name="l00160"></a>00160     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a72ea6b79bc2156225de9a22630f134f7">mci_SendOpCond</a>(uint32_t *pOCR) <span class="keyword">const</span>;
<a name="l00161"></a>00161     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a5f562729bd6b1d2dd5d13eb1557341a8">mci_SendAppOpCond</a>(uint16_t rca, <span class="keywordtype">bool</span> hcs, uint32_t *pOcr, <span class="keywordtype">bool</span> *pCCS) <span class="keyword">const</span>;
<a name="l00162"></a>00162     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#acbce277ea1f87dea23b21a44ad0e5e07">mci_GetCID</a>(uint32_t *pCID) <span class="keyword">const</span>;
<a name="l00163"></a>00163     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#ad6e8150c350a06ded20d68489ee70fae">mci_SetAddr</a>(uint16_t addr) <span class="keyword">const</span>;
<a name="l00164"></a>00164     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a354eb07799bcf8fe59932506aa87679d">mci_GetAddr</a>(uint16_t *pRCA) <span class="keyword">const</span>;
<a name="l00165"></a>00165     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#abaa903ecb5d8e24e7f928c0db46d5cfc">mci_GetCSD</a>(uint16_t rca, uint32_t *pCSD) <span class="keyword">const</span>;
<a name="l00166"></a>00166     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a9058b64fd08ed863128f8786a725b8f3">mci_SelectCard</a>(uint16_t addr) <span class="keyword">const</span>;
<a name="l00167"></a>00167     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#afcecb8ab487818349cb1349d492c66af">mci_GetStatus</a>(uint16_t rca, uint32_t *pStatus) <span class="keyword">const</span>;
<a name="l00168"></a>00168     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a3c5c9d1f1b6a872543bfe08de55c13aa">mci_ProcessCSD</a>();
<a name="l00169"></a>00169     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#ac5b8947fd98763eba69688156ee8df18">mci_SetBusWidth</a>(uint16_t rca, uint8_t width) <span class="keyword">const</span>;
<a name="l00170"></a>00170     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a9de37054670e1064ff8c02aaedd0e2f9">mci_SetTranState</a>(uint16_t rca) <span class="keyword">const</span>;
<a name="l00171"></a>00171     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a85b1d914e79b0f1b0ddac1a49565c777">mci_SetBlockLength</a>(uint32_t rca, uint32_t block_len) <span class="keyword">const</span>;
<a name="l00172"></a>00172     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a697b31310bc5d4101cb048283e24771d">mci_SetCardParams</a>() <span class="keyword">const</span>;
<a name="l00173"></a>00173     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#ac214e32dab00d2ae5a53563b9563ce26">mci_StopTransmission</a>(uint32_t rca) <span class="keyword">const</span>;
<a name="l00174"></a>00174     <span class="keywordtype">bool</span>        <a class="code" href="classMCIFileSystem.html#a1fbaa7f72f91bb93031eac67f8ba3d3d">mci_CheckR1Response</a>(uint32_t resp, <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>* pCheckResult) <span class="keyword">const</span>;
<a name="l00175"></a>00175     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#ada698747caba766225ad40df5a7a40f1">mci_WriteDelay</a>() <span class="keyword">const</span>;
<a name="l00176"></a>00176     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a83ce56c07d18b472270e192ca51ee0af">mci_SendCmd</a>(uint32_t Command, uint32_t Arg, uint32_t timeout) <span class="keyword">const</span>;
<a name="l00177"></a>00177     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a>  <a class="code" href="classMCIFileSystem.html#a7112b1adc601122e9226905b1498b8ec">mci_SendAppCmd</a>(uint16_t rca) <span class="keyword">const</span>;
<a name="l00178"></a>00178     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a962a061d2576d7d214537f3004723dc8">mci_SetDataTransfer</a>(uint16_t BlockNum, <span class="keywordtype">bool</span> DirFromCard, uint32_t <a class="code" href="classmbed_1_1Timeout.html">Timeout</a>) <span class="keyword">const</span>;
<a name="l00179"></a>00179     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a6ab12cc09ef7726cbb0999cf29c8f564">mci_GetResp</a>(response_t* pResp) <span class="keyword">const</span>;
<a name="l00180"></a>00180     uint32_t    <a class="code" href="classMCIFileSystem.html#acab1fdec89212a7d746c58e34a896dd8">mci_GetBits</a>(int32_t <a class="code" href="startup__lpc407x__8x_8cpp.html#a885b350339beb75f5940572b641aaa58">start</a>, int32_t end, uint32_t *data) <span class="keyword">const</span>;
<a name="l00181"></a>00181     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#af5e75f6eab88cde87e9c2646f52fe136">mci_SetCommand</a>(uint32_t Cmd, uint32_t Arg) <span class="keyword">const</span>;
<a name="l00182"></a>00182     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a6c09fa97be1218295b94620c2286a0eb">mci_ResetCommand</a>() <span class="keyword">const</span>;
<a name="l00183"></a>00183     int32_t     <a class="code" href="classMCIFileSystem.html#a77b3d18b6a5a0cc121b1d3fedac9ba2c">mci_IRQHandler</a>(uint8_t *txBuf, uint32_t *txCnt, uint8_t *rxBuf, uint32_t *rxCnt);
<a name="l00184"></a>00184     int32_t     <a class="code" href="classMCIFileSystem.html#a9fe9b7645089142ec1b16ebf70fa8699">mci_FIFOIRQHandler</a>(uint8_t *txBuf, uint32_t *txCnt, uint8_t *rxBuf, uint32_t *rxCnt);
<a name="l00185"></a>00185     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#aae348bf5966145a79a7fb9f394c49070">mci_ReadFIFO</a>(uint32_t *pDst, <span class="keywordtype">bool</span> bFirstHalf) <span class="keyword">const</span>;
<a name="l00186"></a>00186     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a4efec429af9eb4bc7d74cf082f944a1e">mci_WriteFIFO</a>(uint32_t *pSrc, <span class="keywordtype">bool</span> bFirstHalf) <span class="keyword">const</span>;
<a name="l00187"></a>00187                 
<a name="l00188"></a>00188     <span class="keywordtype">void</span>        <a class="code" href="classMCIFileSystem.html#a9708e71077ce03a261adf6619f864916">mci_SetupEventWakeup</a>(uint8_t dmaChannel);
<a name="l00189"></a>00189     uint32_t    <a class="code" href="classMCIFileSystem.html#a2799bd1234522346bef2b81ee948d531">mci_WaitForEvent</a>() <span class="keyword">const</span>;
<a name="l00190"></a>00190 
<a name="l00191"></a>00191     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a> <a class="code" href="classMCIFileSystem.html#a24ff31f3c7d6305187dfb608773f6701">_readBlocks</a>(uint32_t card_type, uint32_t startBlock, uint32_t blockNum) <span class="keyword">const</span>;
<a name="l00192"></a>00192     <a class="code" href="classMCIFileSystem.html#af9abec6f7d3a8a2313003ac7e174dd4d">ReturnCode</a> <a class="code" href="classMCIFileSystem.html#a15f3a42efa1a7212e536bbb5c6717bed">_writeBlocks</a>(uint32_t card_type, uint32_t startBlock, uint32_t blockNum) <span class="keyword">const</span>;
<a name="l00193"></a>00193 
<a name="l00194"></a>00194 
<a name="l00195"></a><a class="code" href="classMCIFileSystem.html#a8c977056fc6a45fbf0e5e5a2124a1f54">00195</a>     uint32_t <a class="code" href="classMCIFileSystem.html#a8c977056fc6a45fbf0e5e5a2124a1f54">_Stat</a>;
<a name="l00196"></a><a class="code" href="classMCIFileSystem.html#ab20fee81e86e7f43240ff5d558f71eb1">00196</a>     <a class="code" href="structMCIFileSystem_1_1SDMMC__CARD__T.html" title="SD/MMC Card specific setup data structure.">SDMMC_CARD_T</a> <a class="code" href="classMCIFileSystem.html#ab20fee81e86e7f43240ff5d558f71eb1">_sdCardInfo</a>;
<a name="l00197"></a>00197 
<a name="l00198"></a><a class="code" href="classMCIFileSystem.html#a81e1ae90551f57ab8a601e6aace29b7d">00198</a>     <a class="code" href="classmbed_1_1DigitalIn.html">DigitalIn</a>* <a class="code" href="classMCIFileSystem.html#a81e1ae90551f57ab8a601e6aace29b7d">_cardDetect</a>;
<a name="l00199"></a>00199 
<a name="l00200"></a><a class="code" href="classMCIFileSystem.html#a2bb537815973c454f0746438efa57727">00200</a>     uint8_t <a class="code" href="classMCIFileSystem.html#a2bb537815973c454f0746438efa57727">_eventDmaChannel</a>;    
<a name="l00201"></a><a class="code" href="classMCIFileSystem.html#a0376aee4b595df11622363f54fd69fca">00201</a>     <span class="keyword">volatile</span> <span class="keywordtype">bool</span> <a class="code" href="classMCIFileSystem.html#a0376aee4b595df11622363f54fd69fca">_eventReceived</a>;
<a name="l00202"></a><a class="code" href="classMCIFileSystem.html#a798712e7437b68d8686dee45af7532ae">00202</a>     <span class="keyword">volatile</span> <span class="keywordtype">bool</span> <a class="code" href="classMCIFileSystem.html#a798712e7437b68d8686dee45af7532ae">_eventSuccess</a>;
<a name="l00203"></a>00203 };
<a name="l00204"></a>00204 
<a name="l00205"></a>00205 <span class="preprocessor">#endif</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="MCIFileSystem_8h.html">MCIFileSystem.h</a>      </li>

    <li class="footer">Generated on Mon May 5 2014 23:16:43 for Pandora Head Sensors by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
